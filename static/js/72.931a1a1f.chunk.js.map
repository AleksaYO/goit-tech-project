{"version":3,"file":"static/js/72.931a1a1f.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","redux/selectors.js","components/Cards/Cards.jsx","components/Main/Main.jsx"],"sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export const user = (state) => state.followers.followers;\n","import { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { followUser, unFollowUser } from \"../../redux/slice\";\nimport { useFollowUserMutation } from \"../../redux/userApi\";\nimport css from \"../Main/Main.module.css\";\nimport { user } from \"../../redux/selectors\";\n\nexport const Cards = ({ user: { id, avatar, tweets, followers } }) => {\n  const [isFollowed, setIsFollowed] = useState(false);\n  const [putUser] = useFollowUserMutation();\n  const [foll, setFoll] = useState(followers);\n  const dispatch = useDispatch();\n  const users = useSelector(user);\n\n  const onFollow = async (id) => {\n    setFoll(foll + 1);\n    const followed = () => ({\n      followers: followers + 1,\n    });\n    const body = followed();\n\n    putUser({ body, id });\n    dispatch(followUser(id));\n    setIsFollowed(true);\n  };\n\n  const unFollow = async (id) => {\n    setFoll(foll - 1);\n    const unFollowed = () => ({\n      followers: followers - 1,\n    });\n\n    const body = unFollowed();\n\n    putUser({ body, id });\n    dispatch(unFollowUser(id));\n    setIsFollowed(false);\n  };\n\n  useEffect(() => {\n    users.includes(id) ? setIsFollowed(false) : setIsFollowed(true);\n  }, [users, isFollowed, id]);\n\n  return (\n    <li className={css.item}>\n      <div className={css.logo}></div>\n      <div className={css[\"box-top\"]}></div>\n      <div className={css[\"box-middle\"]}></div>\n      <div className={css[\"avatar-box\"]}>\n        <img className={css.img} src={avatar} alt=\"avatar\" />\n      </div>\n      <div className={css[\"box-bottom\"]}>\n        <p className={css.tweets}>{tweets} TWEETS</p>\n        <p className={css.followers}>\n          {String(foll).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")} FOLLOWERS\n        </p>\n        {isFollowed ? (\n          <button\n            onClick={() => {\n              onFollow(id);\n            }}\n            className={css[\"btn-follow\"]}\n          >\n            FOLLOW\n          </button>\n        ) : (\n          <button\n            onClick={() => {\n              unFollow(id);\n            }}\n            className={css[\"btn-unfollow\"]}\n          >\n            FOLLOWING\n          </button>\n        )}\n      </div>\n    </li>\n  );\n};\n","import { useGetUsersQuery } from \"../../redux/userApi\";\nimport css from \"./Main.module.css\";\nimport { Cards } from \"../Cards/Cards\";\n\nconst Main = () => {\n  const { data = [] } = useGetUsersQuery();\n\n  return (\n    data && (\n      <ul className={css.list}>\n        {data.map((item) => {\n          return <Cards key={item.id} user={item} />;\n        })}\n      </ul>\n    )\n  );\n};\n\nexport default Main;\n"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","user","state","followers","Cards","id","avatar","tweets","useState","isFollowed","setIsFollowed","useFollowUserMutation","putUser","foll","setFoll","dispatch","useDispatch","users","useSelector","onFollow","body","followed","followUser","unFollow","unFollowed","unFollowUser","useEffect","includes","className","css","src","alt","String","replace","onClick","useGetUsersQuery","data","map","item"],"sourceRoot":""}