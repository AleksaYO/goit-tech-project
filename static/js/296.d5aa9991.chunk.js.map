{"version":3,"file":"static/js/296.d5aa9991.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","redux/selectors.js","components/Cards/Cards.jsx","components/PaginationBtn/PagintationBtn.jsx","components/Main/Main.jsx"],"sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export const user = (state) => state.followers.followers;\n","import { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { followUser, unFollowUser } from \"../../redux/slice\";\nimport { useFollowUserMutation } from \"../../redux/userApi\";\nimport css from \"../Main/Main.module.css\";\nimport { user } from \"../../redux/selectors\";\n\nexport const Cards = ({ user: { id, avatar, tweets, followers } }) => {\n  const [isFollowed, setIsFollowed] = useState(false);\n  const [putUser] = useFollowUserMutation();\n  const [foll, setFoll] = useState(followers);\n  const dispatch = useDispatch();\n  const users = useSelector(user);\n\n  const onFollow = async (id) => {\n    setFoll(foll + 1);\n    const followed = () => ({\n      followers: followers + 1,\n    });\n    const body = followed();\n\n    putUser({ body, id });\n    dispatch(followUser(id));\n    setIsFollowed(true);\n  };\n\n  const unFollow = async (id) => {\n    setFoll(foll - 1);\n    const unFollowed = () => ({\n      followers: followers - 1,\n    });\n\n    const body = unFollowed();\n\n    putUser({ body, id });\n    dispatch(unFollowUser(id));\n    setIsFollowed(false);\n  };\n\n  useEffect(() => {\n    users.includes(id) ? setIsFollowed(false) : setIsFollowed(true);\n  }, [users, isFollowed, id]);\n\n  return (\n    <li className={css.item}>\n      <div className={css.logo}></div>\n      <div className={css[\"box-top\"]}></div>\n      <div className={css[\"box-middle\"]}></div>\n      <div className={css[\"avatar-box\"]}>\n        <img className={css.img} src={avatar} alt=\"avatar\" />\n      </div>\n      <div className={css[\"box-bottom\"]}>\n        <p className={css.tweets}>{tweets} TWEETS</p>\n        <p className={css.followers}>\n          {String(foll).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")} FOLLOWERS\n        </p>\n        {isFollowed ? (\n          <button\n            onClick={() => {\n              onFollow(id);\n            }}\n            className={css[\"btn-follow\"]}\n          >\n            FOLLOW\n          </button>\n        ) : (\n          <button\n            onClick={() => {\n              unFollow(id);\n            }}\n            className={css[\"btn-unfollow\"]}\n          >\n            FOLLOWING\n          </button>\n        )}\n      </div>\n    </li>\n  );\n};\n","import css from \"../Main/Main.module.css\";\n\nexport const PaginationBtn = ({ nexUsers }) => {\n  return (\n    <button onClick={nexUsers} className={css[\"btn-load-more\"]}>\n      Load More\n    </button>\n  );\n};\n","import { useGetUsersQuery } from \"../../redux/userApi\";\nimport css from \"./Main.module.css\";\nimport { Cards } from \"../Cards/Cards\";\nimport { Link } from \"react-router-dom\";\nimport { PaginationBtn } from \"../PaginationBtn/PagintationBtn\";\nimport { useState } from \"react\";\n\nconst Main = () => {\n  let { data = [] } = useGetUsersQuery();\n  const itemsPerPage = 9;\n  const [loadedItems, setLoadedItems] = useState(itemsPerPage);\n\n  const currentData = data.slice(0, loadedItems);\n\n  const nexUsers = () => {\n    setLoadedItems(loadedItems + itemsPerPage);\n  };\n\n  return (\n    <>\n      <div className={css[\"header\"]}>\n        <Link to=\"/\">\n          <button className={css[\"btn-back\"]}>\n            <span>GO BACK</span>\n          </button>\n        </Link>\n        <div className={css[\"filter\"]}>\n          <button className={css[\"btn-back\"]}>All</button>\n          <button className={css[\"btn-back\"]}>Follow</button>\n          <button className={css[\"btn-back\"]}>Following</button>\n        </div>\n      </div>\n      {currentData && (\n        <>\n          <ul className={css.list}>\n            {currentData.map((item) => {\n              return <Cards key={item.id} user={item} />;\n            })}\n          </ul>\n          {data.length > loadedItems && <PaginationBtn nexUsers={nexUsers} />}\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Main;\n"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","user","state","followers","Cards","id","avatar","tweets","useState","isFollowed","setIsFollowed","useFollowUserMutation","putUser","foll","setFoll","dispatch","useDispatch","users","useSelector","onFollow","body","followed","followUser","unFollow","unFollowed","unFollowUser","useEffect","includes","className","css","src","alt","String","replace","onClick","PaginationBtn","nexUsers","useGetUsersQuery","data","loadedItems","setLoadedItems","currentData","slice","to","map","item","length"],"sourceRoot":""}