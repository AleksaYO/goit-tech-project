{"version":3,"file":"static/js/309.3b893f4f.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://goit-tech-project/./src/components/Cards/Cards.module.css?ec71","redux/selectors.js","components/Cards/Cards.jsx","webpack://goit-tech-project/./src/components/PaginationBtn/Pagination.module.css?c325","components/PaginationBtn/PagintationBtn.jsx","components/Main/Main.jsx"],"sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Cards_item__5r4Kx\",\"img\":\"Cards_img__Ol0Rm\",\"avatar-box\":\"Cards_avatar-box__5tzx-\",\"box-middle\":\"Cards_box-middle__wDR0N\",\"box-top\":\"Cards_box-top__EdQze\",\"box-bottom\":\"Cards_box-bottom__bg4mP\",\"logo\":\"Cards_logo__MV8aA\",\"tweets\":\"Cards_tweets__xfC-T\",\"followers\":\"Cards_followers__6KW2d\",\"btn-follow\":\"Cards_btn-follow__+X1DB\",\"btn-unfollow\":\"Cards_btn-unfollow__Ay3Hy\"};","export const user = (state) => state.followers.followers;\n","import { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { followUser, unFollowUser } from \"../../redux/slice\";\nimport { useFollowUserMutation } from \"../../redux/userApi\";\nimport css from \"./Cards.module.css\";\nimport { user } from \"../../redux/selectors\";\n\nexport const Cards = ({ user: { id, avatar, tweets, followers } }) => {\n  const [isFollowed, setIsFollowed] = useState(false);\n  const [putUser] = useFollowUserMutation();\n  const [foll, setFoll] = useState(followers);\n  const dispatch = useDispatch();\n  const users = useSelector(user);\n\n  const onFollow = async (id) => {\n    setFoll(foll + 1);\n    const followed = () => ({\n      followers: followers + 1,\n    });\n    const body = followed();\n\n    putUser({ body, id });\n    dispatch(followUser(id));\n    setIsFollowed(true);\n  };\n\n  const unFollow = async (id) => {\n    setFoll(foll - 1);\n    const unFollowed = () => ({\n      followers: followers - 1,\n    });\n\n    const body = unFollowed();\n\n    putUser({ body, id });\n    dispatch(unFollowUser(id));\n    setIsFollowed(false);\n  };\n\n  useEffect(() => {\n    users.includes(id) ? setIsFollowed(false) : setIsFollowed(true);\n  }, [users, isFollowed, id]);\n\n  return (\n    <li className={css.item}>\n      <div className={css.logo}></div>\n      <div className={css[\"box-top\"]}></div>\n      <div className={css[\"box-middle\"]}></div>\n      <div className={css[\"avatar-box\"]}>\n        <img className={css.img} src={avatar} alt=\"avatar\" />\n      </div>\n      <div className={css[\"box-bottom\"]}>\n        <p className={css.tweets}>{tweets} TWEETS</p>\n        <p className={css.followers}>\n          {String(foll).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")} FOLLOWERS\n        </p>\n        {isFollowed ? (\n          <button\n            onClick={() => {\n              onFollow(id);\n            }}\n            className={css[\"btn-follow\"]}\n          >\n            FOLLOW\n          </button>\n        ) : (\n          <button\n            onClick={() => {\n              unFollow(id);\n            }}\n            className={css[\"btn-unfollow\"]}\n          >\n            FOLLOWING\n          </button>\n        )}\n      </div>\n    </li>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"pagination-box\":\"Pagination_pagination-box__Ow7C9\",\"btn-next-page\":\"Pagination_btn-next-page__C8KHo\",\"btn-previous-page\":\"Pagination_btn-previous-page__6EKCy\"};","import css from \"./Pagination.module.css\";\n\nexport const PaginationBtn = ({ nextPage }) => {\n  return (\n    <div className={css[\"pagination-box\"]}>\n      <button onClick={nextPage} className={css[\"btn-next-page\"]}>\n        NEXT PAGE\n      </button>\n    </div>\n  );\n};\n","import { useGetUsersQuery } from \"../../redux/userApi\";\nimport css from \"./Main.module.css\";\nimport { Cards } from \"../Cards/Cards\";\nimport { Link } from \"react-router-dom\";\nimport { PaginationBtn } from \"../PaginationBtn/PagintationBtn\";\nimport { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { user } from \"../../redux/selectors\";\n\nlet LIMIT = 6;\n\nconst Main = () => {\n  const [limit, setLimit] = useState(LIMIT);\n  let { data = [], isLoading } = useGetUsersQuery(limit);\n  const [users, setUsers] = useState([]);\n  const followingUsers = useSelector(user);\n\n  const nextPage = () => {\n    if (LIMIT === 20) return;\n    else setLimit((prev) => prev + 6);\n  };\n\n  const filteredUsers = (flag) => {\n    if (flag === \"all\") {\n      setUsers(data);\n    }\n    if (flag === \"follow\") {\n      setUsers(data.filter((obj) => !followingUsers.includes(obj.id)));\n    }\n    if (flag === \"following\") {\n      setUsers(data.filter((obj) => followingUsers.includes(obj.id)));\n    }\n  };\n\n  useEffect(() => {\n    !isLoading && setUsers(data);\n  }, [data, isLoading]);\n\n  return (\n    <>\n      <div className={css[\"header\"]}>\n        <Link to=\"/\">\n          <button className={css[\"btn-back\"]}>\n            <span>GO BACK</span>\n          </button>\n        </Link>\n        {data.length === 20 && (\n          <div className={css[\"filter\"]}>\n            <button\n              onClick={() => filteredUsers(\"all\")}\n              className={css[\"btn-back\"]}\n            >\n              All\n            </button>\n            <button\n              onClick={() => filteredUsers(\"follow\")}\n              className={css[\"btn-back\"]}\n            >\n              Follow\n            </button>\n            <button\n              onClick={() => filteredUsers(\"following\")}\n              className={css[\"btn-back\"]}\n            >\n              Following\n            </button>\n          </div>\n        )}\n      </div>\n\n      <>\n        <ul className={css.list}>\n          {users.map((item) => {\n            return <Cards key={item.id} user={item} />;\n          })}\n        </ul>\n        {data.length !== 20 && <PaginationBtn nextPage={nextPage} />}\n      </>\n    </>\n  );\n};\n\nexport default Main;\n"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","user","state","followers","Cards","id","avatar","tweets","useState","isFollowed","setIsFollowed","useFollowUserMutation","putUser","foll","setFoll","dispatch","useDispatch","users","useSelector","onFollow","body","followed","followUser","unFollow","unFollowed","unFollowUser","useEffect","includes","className","css","src","alt","String","replace","onClick","PaginationBtn","nextPage","limit","setLimit","useGetUsersQuery","data","isLoading","setUsers","followingUsers","filteredUsers","flag","filter","obj","to","length","map","item","prev"],"sourceRoot":""}